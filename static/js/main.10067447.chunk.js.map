{"version":3,"sources":["logos/airgap-logo.svg","logos/beacon-logo.svg","logos/tzbutton-logo-pressed.svg","logos/tzbutton-logo-unpressed.svg","timeline.png","logos/thanos-logo.svg","logos/kukai-logo.svg","constants.ts","components/Navigation/Navigation.tsx","util.tsx","components/TzButton/TzButton.tsx","services/beacon-service.ts","services/countdown-service.ts","components/Header/Header.tsx","components/HowTo/HowTo.tsx","components/Faq/Faq.tsx","components/Footer/Footer.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","TZBUTTON_CONTRACT","CONTRIBUTION_AMOUNT_STRING","multiplier","BigNumber","shiftedBy","times","toFixed","Navigation","toggleMode","useColorMode","toggleColorMode","text","useColorModeValue","SwitchIcon","FaMoon","FaSun","w","h","padding","align","justify","alignItems","flexGrow","color","spacing","href","isExternal","size","fontSize","aria-label","variant","icon","onClick","getLink","name","link","TzButton","useState","isPressed","setIsPressed","style","cursor","src","TzButtonPressed","TzButtonUnpressed","onMouseEnter","onMouseLeave","width","height","alt","Tezos","TezosToolkit","connectToBeacon","a","wallet","BeaconWallet","setWalletProvider","requestPermissions","participate","client","requestOperation","operationDetails","kind","amount","destination","withdraw","at","contract","methods","send","result","opHash","readStateFromContract","storage","contractStorage","lastUpdatedBlockHash","checkRecentBlockForUpdates","console","log","rpc","getBlock","block","newRelevantBlock","hash","operations","some","ops","contents","op","OpKind","TRANSACTION","getTezBlockLinkForAddress","address","openTezBlock","window","open","openBetterCallDev","getPotAmount","tz","getBalance","toString","getMyAddress","getActiveAccount","activeAccount","constant","getCountdownDiffForNextBalance","input","balance","minus","plus","dividedBy","forHumans","seconds","levels","Math","floor","returntext","i","max","length","substr","trim","WinnerAnnouncement","colorScheme","refreshContractState","setState","toast","contractState","myAddress","startDate","Date","leadership_start_timestamp","secondsToWin","countdown_milliseconds","div","toNumber","endDate","getTime","leader","newState","loaded","potAmount","leaderStartTime","leaderEndTime","countdownTime","initialResolve","Promise","resolve","position","title","description","status","duration","isClosable","reject","globalState","undefined","Header","useToast","state","intervalRef","useRef","useEffect","then","current","setInterval","clearInterval","leaderLink","content","as","fontWeight","opacity","mt","date","daysInHours","zeroPadTime","currentCountdown","currentCountdownBn","countdownDiff","countdown","integerValue","getNextCountdown","my","role","mr","thickness","speed","emptyColor","mb","pt","pb","maxW","mx","textAlign","beaconLink","taquitoLink","buttonRedditLink","HowTo","bg","elements","Timeline","AirGap","Beacon","Thanos","Kukai","py","map","el","index","key","catImage","boxSize","airgapLink","tzButtonGithubLink","FAQs","Faq","allowToggle","faq","flex","data","code","social","contact","Footer","px","wrap","item","_hover","textDecoration","leftIcon","borderColor","App","theme","minH","React","Component","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.10067447.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/airgap-logo.38eff924.svg\";","module.exports = __webpack_public_path__ + \"static/media/beacon-logo.944018ec.svg\";","module.exports = __webpack_public_path__ + \"static/media/tzbutton-logo-pressed.83915e22.svg\";","module.exports = __webpack_public_path__ + \"static/media/tzbutton-logo-unpressed.45024e1f.svg\";","module.exports = __webpack_public_path__ + \"static/media/timeline.1485c219.png\";","module.exports = __webpack_public_path__ + \"static/media/thanos-logo.b7b68acd.svg\";","module.exports = __webpack_public_path__ + \"static/media/kukai-logo.2b38eb40.svg\";","import { BigNumber } from 'bignumber.js'\n\nexport const TZBUTTON_CONTRACT: string = 'KT1H28iie4mW9LmmJeYLjH6zkC8wwSmfHf5P'\nexport const TZBUTTON_AMOUNT_MUTEZ: string = '200000'\n\nexport const XTZ_STRING = 'XTZ'\n\nexport const CONTRIBUTION_AMOUNT_STRING = (multiplier: number = 1) => {\n  return `${new BigNumber(TZBUTTON_AMOUNT_MUTEZ)\n    .shiftedBy(-6)\n    .times(multiplier)\n    .toFixed()} ${XTZ_STRING}`\n}\n","import React from 'react'\nimport {\n  Box,\n  Link,\n  Flex,\n  IconButton,\n  HStack,\n  useColorMode,\n  useColorModeValue,\n} from '@chakra-ui/core'\n\nimport { FaGithub, FaMoon, FaSun, FaBell } from 'react-icons/fa'\nimport { TZBUTTON_CONTRACT } from '../../constants'\n\nconst Navigation: React.FC = () => {\n  const { toggleColorMode: toggleMode } = useColorMode()\n  const text = useColorModeValue('dark', 'light')\n  const SwitchIcon = useColorModeValue(FaMoon, FaSun)\n\n  return (\n    <Flex\n      w=\"100%\"\n      h=\"100%\"\n      padding=\"1.5rem\"\n      align=\"center\"\n      justify=\"space-between\"\n    >\n      <Box alignItems=\"center\" flexGrow={1}></Box>\n      <Flex align=\"center\" color=\"gray.400\">\n        <HStack spacing=\"2\">\n          <Link\n            href={`https://t.me/TezosNotifierBot?start=tzbutton_${TZBUTTON_CONTRACT}_TzButton`}\n            isExternal\n          >\n            <IconButton\n              size=\"md\"\n              fontSize=\"lg\"\n              aria-label={`Get notified about updates`}\n              variant=\"ghost\"\n              color=\"current\"\n              icon={<FaBell />}\n            />\n          </Link>\n          <Link href=\"https://github.com/tzbutton/tzbutton\" isExternal>\n            <IconButton\n              size=\"md\"\n              fontSize=\"lg\"\n              aria-label={`Open on GitHub`}\n              variant=\"ghost\"\n              color=\"current\"\n              icon={<FaGithub />}\n            />\n          </Link>\n          <IconButton\n            size=\"md\"\n            fontSize=\"lg\"\n            aria-label={`Switch to ${text} mode`}\n            variant=\"ghost\"\n            color=\"current\"\n            onClick={toggleMode}\n            icon={<SwitchIcon />}\n          />\n        </HStack>\n      </Flex>\n    </Flex>\n  )\n}\n\nexport default Navigation\n","import React from 'react'\nimport { Link } from '@chakra-ui/core'\n\nexport const getLink = (name: string, link: string) => {\n  return (\n    <Link href={link} isExternal>\n      {name}\n    </Link>\n  )\n}\n","import React, { useState } from 'react'\n\nimport TzButtonPressed from '../../logos/tzbutton-logo-pressed.svg'\nimport TzButtonUnpressed from '../../logos/tzbutton-logo-unpressed.svg'\n\nconst TzButton: React.FC = () => {\n  const [isPressed, setIsPressed] = useState(false)\n\n  return (\n    <img\n      style={{ cursor: 'pointer' }}\n      src={isPressed ? TzButtonPressed : TzButtonUnpressed}\n      onMouseEnter={() => setIsPressed(true)}\n      onMouseLeave={() => setIsPressed(false)}\n      width=\"200px\"\n      height=\"200px\"\n      alt=\"TzButton - click to participate\"\n    />\n  )\n}\n\nexport default TzButton\n","import { BeaconWallet } from '@taquito/beacon-wallet'\nimport { TezosToolkit, OpKind } from '@taquito/taquito'\nimport { BigNumber } from 'bignumber.js'\n\nimport { TZBUTTON_AMOUNT_MUTEZ, TZBUTTON_CONTRACT } from '../constants'\n\nconst Tezos = new TezosToolkit('https://tezos-node.prod.gke.papers.tech/')\n\nexport interface ContractStorage {\n  countdown_milliseconds: BigNumber\n  leader: string\n  leadership_start_timestamp: number\n}\n\nconst connectToBeacon = async () => {\n  // Create a new BeaconWallet instance. The options will be passed to the DAppClient constructor.\n  const wallet = new BeaconWallet({ name: 'TzButton' })\n\n  // Setting the wallet as the wallet provider for Taquito.\n  Tezos.setWalletProvider(wallet)\n\n  // Send permission request to the connected wallet. This will either be the browser extension, or a wallet over the P2P network.\n  await wallet.requestPermissions()\n\n  return wallet\n}\n\nexport const participate = async (): Promise<void> => {\n  const wallet = await connectToBeacon()\n\n  await wallet.client.requestOperation({\n    operationDetails: [\n      {\n        kind: 'transaction' as any,\n        amount: TZBUTTON_AMOUNT_MUTEZ,\n        destination: TZBUTTON_CONTRACT,\n      },\n    ],\n  })\n}\n\nexport const withdraw = async (): Promise<string> => {\n  await connectToBeacon()\n\n  // Connect to a specific contract on the tezos blockchain.\n  // Make sure the contract is deployed on the network you requested permissions for.\n  const contract = await Tezos.wallet.at(TZBUTTON_CONTRACT)\n  // Call a method on a contract. In this case, we use the transfer entrypoint.\n  // Taquito will automatically check if the entrypoint exists and if we call it with the right parameters.\n  // In this case the parameters are [from, to, amount].\n  // This will prepare the contract call and send the request to the connected wallet.\n  const result = await contract.methods.withdraw('').send()\n\n  // As soon as the operation is broadcast, you will receive the operation hash\n  return result.opHash\n}\n\nexport const readStateFromContract = async (): Promise<ContractStorage> => {\n  const contract = await Tezos.contract.at(TZBUTTON_CONTRACT)\n\n  const contractStorage: ContractStorage = await contract.storage()\n\n  return contractStorage\n}\n\nlet lastUpdatedBlockHash: string = ''\n\nexport const checkRecentBlockForUpdates = async () => {\n  console.log('checking for updates')\n  const block = await Tezos.rpc.getBlock()\n\n  const newRelevantBlock =\n    block.hash !== lastUpdatedBlockHash &&\n    block.operations[3].some((ops) =>\n      ops.contents.some(\n        (op) =>\n          op.kind === OpKind.TRANSACTION && op.destination === TZBUTTON_CONTRACT\n      )\n    )\n\n  lastUpdatedBlockHash = block.hash\n\n  return newRelevantBlock\n}\n\nexport const getTezBlockLinkForAddress = (\n  address: string = TZBUTTON_CONTRACT\n) => {\n  return `https://tezblock.io/account/${address}`\n}\n\nexport const openTezBlock = async () => {\n  window.open(getTezBlockLinkForAddress(), '_blank')\n}\n\nexport const openBetterCallDev = async () => {\n  window.open(\n    `https://better-call.dev/mainnet/${TZBUTTON_CONTRACT}/code`,\n    '_blank'\n  )\n}\n\nexport const getPotAmount = async () => {\n  return (await Tezos.tz.getBalance(TZBUTTON_CONTRACT)).shiftedBy(-6).toString()\n}\n\nexport const getMyAddress = async () => {\n  const wallet = new BeaconWallet({ name: 'TzButton' })\n\n  const activeAccount = await wallet.client.getActiveAccount()\n\n  return activeAccount?.address ?? ''\n}\n","import { BigNumber } from 'bignumber.js'\n\nconst hoursToMillis = (input: BigNumber) => {\n  const hourInMinutes = input.times(60)\n  const hourInSeconds = hourInMinutes.times(60)\n  return hourInSeconds.times(1000)\n}\n\nconst constant = hoursToMillis(new BigNumber(3))\nconst START_VALUE = 100\n\nexport const getCountdownForNextBalance = (input: string) => {\n  return forHumans(\n    getCountdownDiffForNextBalance(input)\n      .dividedBy(1000)\n      .integerValue()\n      .toNumber()\n  )\n}\n\nexport const getCountdownDiffForNextBalance = (input: string): BigNumber => {\n  const balance = new BigNumber(input)\n    .minus(START_VALUE) // We subtract 100 because that was the start value\n    .times(10)\n    .plus(2) // Because we want to get the next countdown value\n\n  const countdownDiff = constant.plus(balance).dividedBy(balance)\n\n  return countdownDiff\n}\n\nexport const getNextCountdown = (\n  currentCountdown: number,\n  potAmount: string\n) => {\n  const currentCountdownBn = new BigNumber(currentCountdown * 1000)\n  const countdownDiff = getCountdownDiffForNextBalance(potAmount)\n  const countdown = currentCountdownBn.minus(countdownDiff)\n  return forHumans(countdown.dividedBy(1000).integerValue().toNumber())\n}\n\n/**\n * https://stackoverflow.com/a/34270811\n *\n * Translates seconds into human readable format of seconds, minutes, hours, days, and years\n *\n * @param  {number} seconds The number of seconds to be processed\n * @return {string}         The phrase describing the the amount of time\n */\nconst forHumans = (seconds: number) => {\n  var levels: [number, string][] = [\n    [Math.floor(seconds / 31536000), 'years'],\n    [Math.floor((seconds % 31536000) / 86400), 'days'],\n    [Math.floor(((seconds % 31536000) % 86400) / 3600), 'hours'],\n    [Math.floor((((seconds % 31536000) % 86400) % 3600) / 60), 'minutes'],\n    [(((seconds % 31536000) % 86400) % 3600) % 60, 'seconds'],\n  ]\n  var returntext = ''\n\n  for (var i = 0, max = levels.length; i < max; i++) {\n    if (levels[i][0] === 0) continue\n    returntext +=\n      ' ' +\n      levels[i][0] +\n      ' ' +\n      (levels[i][0] === 1\n        ? levels[i][1].substr(0, levels[i][1].length - 1)\n        : levels[i][1])\n  }\n  return returntext.trim()\n}\n","import React, { useState, useEffect, useRef } from 'react'\nimport Countdown from 'react-countdown'\nimport {\n  VStack,\n  Spinner,\n  Square,\n  Box,\n  Divider,\n  Text,\n  Container,\n  Link,\n  Button,\n  Heading,\n  useToast,\n} from '@chakra-ui/core'\nimport { getLink } from '../../util'\nimport TzButton from '../TzButton/TzButton'\n\nimport {\n  getPotAmount,\n  checkRecentBlockForUpdates,\n  readStateFromContract,\n  participate,\n  withdraw,\n  openTezBlock,\n  openBetterCallDev,\n  getMyAddress,\n  getTezBlockLinkForAddress,\n} from '../../services/beacon-service'\nimport { getNextCountdown } from '../../services/countdown-service'\n\nconst WinnerAnnouncement = () => (\n  <span>\n    The game is over!\n    <br />\n    <Button onClick={withdraw} colorScheme=\"green\" size=\"sm\">\n      Withdraw\n    </Button>\n  </span>\n)\n\ninterface AppState {\n  loaded: boolean\n  potAmount: string\n  leader: string\n  leaderStartTime: Date | undefined\n  leaderEndTime: Date | undefined\n  countdownTime: number\n  myAddress: string\n}\n\nconst refreshContractState = async (\n  setState: React.Dispatch<React.SetStateAction<AppState>>,\n  toast?: any\n) => {\n  console.log('refreshing')\n  const contractState = await readStateFromContract()\n  const myAddress = await getMyAddress()\n  const startDate = new Date(contractState.leadership_start_timestamp)\n  const secondsToWin = contractState.countdown_milliseconds.div(1000).toNumber()\n  const endDate = new Date(startDate.getTime() + secondsToWin * 1000)\n  const newState = {\n    loaded: true,\n    potAmount: await getPotAmount(),\n    leader: contractState.leader,\n    leaderStartTime: startDate,\n    leaderEndTime: endDate,\n    countdownTime: secondsToWin,\n    myAddress,\n  }\n  initialResolve = Promise.resolve(newState)\n  setState(newState)\n  if (toast) {\n    toast({\n      position: 'top',\n      title: 'New leader',\n      description:\n        'Someone just became the new leader and the countdown was reset.',\n      status: 'success',\n      duration: 6000,\n      isClosable: true,\n    })\n  }\n}\n\n// TODO: Get rid of this\nlet initialResolve = new Promise(\n  (resolve: React.Dispatch<React.SetStateAction<AppState>>, reject) => {\n    refreshContractState(resolve)\n  }\n)\n\n// TODO: Move this into component?\nconst globalState = {\n  loaded: false,\n  potAmount: '',\n  leader: '',\n  leaderStartTime: undefined,\n  leaderEndTime: undefined,\n  myAddress: '',\n  countdownTime: 0,\n}\n\nconst Header: React.FC = () => {\n  const toast = useToast()\n  const [state, setState] = useState<AppState>(globalState)\n\n  const intervalRef = useRef<undefined | NodeJS.Timeout>()\n\n  useEffect(() => {\n    console.log('setting up interval')\n\n    initialResolve.then(setState)\n    intervalRef.current = setInterval(async () => {\n      const hasUpdates = await checkRecentBlockForUpdates()\n      if (hasUpdates) {\n        refreshContractState(setState, toast)\n      }\n    }, 10 * 1000)\n    return () => {\n      console.log('removing interval')\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current)\n      }\n    }\n  }, [toast])\n\n  const leaderLink = getLink(\n    state.leader,\n    getTezBlockLinkForAddress(state.leader)\n  )\n\n  const content = state.loaded ? (\n    <>\n      <Heading as=\"h1\" size=\"xl\" fontWeight=\"semibold\">\n        TzButton\n      </Heading>\n      <Text opacity={0.7} fontSize=\"xl\" mt=\"6\">\n        A social experiment on the Tezos blockchain.\n      </Text>\n      <Text fontSize=\"6xl\">\n        {!!state.leaderEndTime ? (\n          <Countdown\n            date={state.leaderEndTime}\n            daysInHours={true}\n            zeroPadTime={2}\n          >\n            <WinnerAnnouncement />\n          </Countdown>\n        ) : (\n          'Loading...'\n        )}\n      </Text>\n      <Square mt=\"6\" onClick={participate}>\n        <TzButton />\n      </Square>\n      <Text mt=\"6\">\n        Click the button to become the <b>new leader</b> and reset the countdown\n        to\n        <br /> <b>{getNextCountdown(state.countdownTime, state.potAmount)}</b>.\n      </Text>\n      <Divider my={16} />\n      <Text fontSize=\"3xl\">\n        Pot Size <Text as={'b'}>{state.potAmount} tez</Text>\n      </Text>\n      {state.leader === state.myAddress ? (\n        <>\n          <Text fontSize=\"6xl\">\n            You are the leader!{' '}\n            <span role=\"img\" aria-label=\"Leader\">\n              🥇\n            </span>\n          </Text>\n          <Text fontSize=\"xl\">{leaderLink}</Text>\n        </>\n      ) : (\n        <Text fontSize=\"xl\">\n          <span role=\"img\" aria-label=\"Leader\">\n            🥇{' '}\n          </span>\n          {leaderLink}\n        </Text>\n      )}\n      <Container>\n        <Button\n          mr={2}\n          mt={8}\n          onClick={openTezBlock}\n          colorScheme=\"blue\"\n          size=\"sm\"\n        >\n          History\n        </Button>\n        <Button mt={8} onClick={openBetterCallDev} colorScheme=\"blue\" size=\"sm\">\n          Contract\n        </Button>\n      </Container>\n      <Text mt=\"10\">\n        Round 1 &nbsp;\n        <span role=\"img\" aria-label=\"Winner\">\n          🏆{' '}\n        </span>{' '}\n        &nbsp;\n        <Link\n          href=\"https://tezblock.io/account/tz1LHjwnT3et96QZyjfUEZWuGE2kqn4N6qEP\"\n          isExternal\n        >\n          tz1LHjwnT3et96QZyjfUEZWuGE2kqn4N6qEP • 25.20 tez\n        </Link>{' '}\n      </Text>\n      <Text opacity={0.7} mt=\"10\">\n        Disclaimer: This is an experiment with an unaudited smart contract,\n        consider the funds you send to the contract as lost.\n      </Text>\n    </>\n  ) : (\n    <Box my={48}>\n      <VStack spacing={4}>\n        <Spinner\n          thickness=\"4px\"\n          speed=\"0.65s\"\n          emptyColor=\"gray.200\"\n          color=\"blue.500\"\n          size=\"xl\"\n        />\n        <Text>Loading data from blockchain...</Text>\n      </VStack>\n    </Box>\n  )\n\n  return (\n    <Box mb={20}>\n      <Box as=\"section\" pt={24} pb={16}>\n        <Container>\n          <Box maxW=\"xl\" mx=\"auto\" textAlign=\"center\">\n            {content}\n          </Box>\n        </Container>\n      </Box>\n    </Box>\n  )\n}\n\nexport default Header\n","import React from 'react'\nimport {\n  OrderedList,\n  ListItem,\n  UnorderedList,\n  Box,\n  Heading,\n  Divider,\n  Container,\n  Image,\n  Text,\n  Link,\n  HStack,\n  Code,\n  useColorModeValue,\n} from '@chakra-ui/core'\nimport { getLink } from '../../util'\n\nimport { CONTRIBUTION_AMOUNT_STRING, TZBUTTON_CONTRACT } from '../../constants'\n\nimport Timeline from '../../timeline.png'\n\nimport AirGap from '../../logos/airgap-logo.svg'\nimport Beacon from '../../logos/beacon-logo.svg'\nimport Thanos from '../../logos/thanos-logo.svg'\nimport Kukai from '../../logos/kukai-logo.svg'\n\nconst beaconLink: JSX.Element = getLink(\n  'Beacon',\n  'https://www.walletbeacon.io/'\n)\nconst taquitoLink: JSX.Element = getLink('Taquito', 'https://tezostaquito.io/')\nconst buttonRedditLink: JSX.Element = getLink(\n  'Reddit \"The Button\"',\n  'https://www.reddit.com/r/thebutton/'\n)\n\nconst HowTo: React.FC = () => {\n  const bg = useColorModeValue('gray.100', 'gray.100')\n  const color = useColorModeValue('black', 'gray.800')\n\n  const elements = [\n    {\n      title: 'How does it work?',\n      description: (\n        <>\n          The TzButton experiment is controlled by a smart contract deployed on\n          the Tezos blockchain. Whenever anyone presses the button three things\n          will happen:\n          <Container mt=\"3\">\n            <OrderedList>\n              <ListItem>\n                You will add <b>{CONTRIBUTION_AMOUNT_STRING()}</b> to the smart\n                contract’s balance\n              </ListItem>\n              <ListItem>\n                The address of the sender will become the leader\n              </ListItem>\n              <ListItem>The countdown is reset</ListItem>\n            </OrderedList>\n          </Container>\n          <Text mt=\"3\">\n            The address that is the leader after the countdown expired will be\n            eligible to withdraw the total balance on the smart contract.\n          </Text>\n          <br />\n          <br />\n          Example:\n          <Image src={Timeline} width=\"100%\"></Image>\n          <OrderedList>\n            <ListItem>\n              Alice presses the button, <b>{CONTRIBUTION_AMOUNT_STRING()}</b>{' '}\n              are now on the smart contract, the countdown is reset and the\n              total time is reduced by <b>1 hour and 30 minutes</b>, which means\n              it's now counting down from <b>22 hours and 30 minutes</b>.\n            </ListItem>\n            <ListItem>\n              <b>1 hour and 25 minutes</b> before the countdown expires, Bob\n              presses the button. <b>{CONTRIBUTION_AMOUNT_STRING(1)}</b> are now\n              in the smart contract, the countdown is reset and the total time\n              is reduced by <b>45 minutes</b>, which means it's now counting\n              down from <b>21 hours and 45 minutes</b>.\n            </ListItem>\n            <ListItem>\n              Many people participate, the balance of the smart contract\n              increases and the time each countdown lasts decreases,{' '}\n              <b>but the countdown never hits 0</b>. Each transaction adds\n              another <b>{CONTRIBUTION_AMOUNT_STRING()}</b>, the balance grows\n              to <b>{CONTRIBUTION_AMOUNT_STRING(12099)}</b> and the countdown\n              resets to <b>9 hours and 1 minute</b>.\n            </ListItem>\n            <ListItem>\n              <b>5 hours and 32 minutes</b> before the countdown expires,\n              Charlie presses the button,{' '}\n              <b>{CONTRIBUTION_AMOUNT_STRING(12100)}</b> are now on the smart\n              contract, the countdown is reset and the total time is reduced by\n              only <b>around half a second</b>, which means it's still counting\n              down from <b>9 hours and 1 minute</b>. The countdown now changes\n              so little that it requires multiple transactions for the countdown\n              to decrease another second.\n            </ListItem>\n            <ListItem>\n              No one presses the button for more than 9 hours and 1 minute. This\n              means <b>Charlie is the winner</b>.\n            </ListItem>\n            <ListItem>\n              Charlie can now withdraw{' '}\n              <b>{CONTRIBUTION_AMOUNT_STRING(12100)}</b>, because he was the\n              leader when the countdown expired.\n            </ListItem>\n          </OrderedList>\n        </>\n      ),\n    },\n    {\n      title: 'How to participate',\n      description: (\n        <>\n          Use a Beacon-compatible wallet and click the button.\n          <Container mt=\"8\">\n            <HStack spacing=\"24px\">\n              <Link href=\"https://airgap.it/\" isExternal>\n                <Image src={AirGap} width=\"150px\"></Image>\n              </Link>\n              <Link\n                href=\"https://chrome.google.com/webstore/detail/beacon-extension/gpfndedineagiepkpinficbcbbgjoenn\"\n                isExternal\n              >\n                <Image src={Beacon} width=\"150px\"></Image>\n              </Link>\n              <Link href=\"https://thanoswallet.com/\" isExternal>\n                <Image src={Thanos} width=\"150px\"></Image>\n              </Link>\n              <Link href=\"https://wallet.kukai.app/\" isExternal>\n                <Image src={Kukai} width=\"100px\"></Image>\n              </Link>\n            </HStack>\n          </Container>\n          <Text mt={8}>Using the CLI (more advanced users)</Text>\n          <Container mt={4}>\n            <Code color={color}>\n              $ tezos-client remember contract tzbutton\n              {TZBUTTON_CONTRACT}\n              <br />$ tezos-client transfer 0.2 from myalias to tzbutton\n            </Code>\n          </Container>\n        </>\n      ),\n    },\n    {\n      title: 'Why TzButton?',\n      description: (\n        <>\n          The experiment was inspired by “the Button” (an experiment conducted\n          with Reddit users {buttonRedditLink}). Besides the fact that the\n          behavior of the participating users will be automatically recorded on\n          the blockchain and analyzed + published on this site, there are also\n          other reasons why this experiment is interesting:\n          <Container mt=\"3\">\n            <UnorderedList>\n              <ListItem>\n                It showcases how easy it is for dApps to interact securely with\n                the Tezos blockchain using the existing libraries in the\n                ecosystem (like {beaconLink} and {taquitoLink})\n              </ListItem>\n              <ListItem>\n                It sets an incentive for security engineers to try to break and\n                exploit the smart contract. This could mean two things:\n                <OrderedList>\n                  <ListItem>\n                    The contract and tooling used is secure and can be used as a\n                    reference for future applications.\n                  </ListItem>\n                  <ListItem>\n                    A breach would be transparent and recorded on the\n                    blockchain, meaning the entire community would be able to\n                    learn from it.\n                  </ListItem>\n                </OrderedList>\n              </ListItem>\n              <ListItem>\n                It provides to the community an open source boilerplate/project\n                to create dApps on the Tezos Blockchain.\n              </ListItem>\n            </UnorderedList>\n          </Container>\n        </>\n      ),\n    },\n  ]\n  return (\n    <Box bg={bg} color={color} py={16}>\n      {elements.map((el, index) => (\n        <span key={index}>\n          {index !== 0 ? <Divider my={16} /> : ''}\n          <Container>\n            <Heading mb={4}>{el.title}</Heading>\n            {el.description}\n          </Container>\n        </span>\n      ))}\n    </Box>\n  )\n}\n\nexport default HowTo\n","import React from 'react'\n\nimport {\n  Link,\n  Heading,\n  Image,\n  Box,\n  Container,\n  Accordion,\n  AccordionItem,\n  AccordionButton,\n  AccordionPanel,\n  AccordionIcon,\n} from '@chakra-ui/core'\n\nimport { CONTRIBUTION_AMOUNT_STRING } from '../../constants'\n\nconst catImage = (\n  <>\n    There are:\n    <br />\n    <Image\n      src=\"https://source.unsplash.com/collection/139386/\"\n      boxSize=\"200\"\n    ></Image>\n  </>\n)\n\nconst getLink = (name: string, link: string) => {\n  return (\n    <Link href={link} isExternal>\n      {name}\n    </Link>\n  )\n}\n\nconst airgapLink: JSX.Element = getLink('AirGap', 'https://airgap.it/')\nconst tzButtonGithubLink: JSX.Element = getLink(\n  'TzButton GitHub',\n  'https://github.com/tzbutton/tzbutton'\n)\n\nconst FAQs = [\n  {\n    title: `Are there any fees?`,\n    description: `The only fees are the transaction fees (gas cost to execute your transaction).`,\n  },\n  {\n    title: `Who developed TZButton?`,\n    description: (\n      <>\n        TZButton was developed by members of the {airgapLink} team during their\n        free time.\n      </>\n    ),\n  },\n  {\n    title: `Can I press the button multiple times?`,\n    description: `Yes. Just keep in mind that every time the button is pressed, you will add ${CONTRIBUTION_AMOUNT_STRING()} to the balance and the countdown will be reset. So it does not make any sense to press it if you already are the leader.`,\n  },\n  {\n    title: `How is this project funded?`,\n    description: (\n      <>\n        This project was created on a voluntary basis during our free time. We\n        don't have any direct commercial motivation.\n        <br />\n        <br />\n        The only thing that could be considered as a commercial motivation is\n        that the contracts balance is delegated to the AirGap baker. All\n        resulting baking rewards will be used to support open source software.\n      </>\n    ),\n  },\n  {\n    title: `Where can I find the source code of this project?`,\n    description: (\n      <>\n        The entire project is released using the permissive MIT license, you can\n        find the code on github: {tzButtonGithubLink}\n      </>\n    ),\n  },\n  {\n    title: `How can I participate in the experiment?`,\n    description: `In case you already have a beacon compatible wallet, you just have to press the button. In case you don't have a beacon compatible wallet yet, go and setup one.`,\n  },\n  {\n    title: `How can I withdraw the balance?`,\n    description: `When the countdown expires the current button will become the withdraw button.`,\n  },\n  {\n    title: `If I'm the leader and the countdown expires, how quickly do I need to withdraw the balance?`,\n    description: `No rush. You can take all the time you need, no one will be able to overwrite your leader position and you are the only one capable of withdrawing the funds.`,\n  },\n  {\n    title: `Can't the contract owner withdraw the balance?`,\n    description: `No. The contract does not have such a function. Only the leader can withdraw the balance once the countdown expired.`,\n  },\n  {\n    title: `Why are there no cat pictures on this site?`,\n    description: catImage,\n  },\n  {\n    title: `Can I transfer more or less than ${CONTRIBUTION_AMOUNT_STRING()}?`,\n    description: `No, the contract will not allow you to pay more or less than ${CONTRIBUTION_AMOUNT_STRING()}.`,\n  },\n  {\n    title: `Is this dApp secure?`,\n    description: (\n      <>\n        Probably not.\n        <br />\n        Don't participate if you cannot afford to lose the 0.2 tez you are\n        sending to the contract.\n      </>\n    ),\n  },\n]\n\nconst Faq: React.FC = () => (\n  <Box as=\"section\" py={16}>\n    <Container>\n      <Box maxW=\"100%\" mx=\"auto\">\n        <Heading mb={4}>FAQs</Heading>\n        <Accordion allowToggle>\n          {FAQs.map((faq, index) => {\n            return (\n              <AccordionItem key={index}>\n                <AccordionButton>\n                  <Box flex=\"1\" textAlign=\"left\">\n                    {faq.title}\n                  </Box>\n                  <AccordionIcon />\n                </AccordionButton>\n                <AccordionPanel pb={4}>{faq.description}</AccordionPanel>\n              </AccordionItem>\n            )\n          })}\n        </Accordion>\n      </Box>\n    </Container>\n  </Box>\n)\n\nexport default Faq\n","import React from 'react'\nimport { FaGithub, FaEnvelope, FaTwitter } from 'react-icons/fa'\n\nimport {\n  HStack,\n  Container,\n  Box,\n  Flex,\n  Button,\n  Text,\n  Stack,\n  Link,\n  Divider,\n  Image,\n  useColorModeValue,\n} from '@chakra-ui/core'\n\nimport Beacon from '../../logos/beacon-logo.svg'\nimport AirGap from '../../logos/airgap-logo.svg'\n\nconst data = {\n  code: [\n    {\n      link: 'https://github.com/tzbutton/tzbutton',\n      name: 'Frontend',\n      icon: <FaGithub />,\n    },\n    {\n      link: 'https://github.com/tzbutton/tzbutton-contract',\n      name: 'Contract',\n      icon: <FaGithub />,\n    },\n  ],\n  social: [\n    {\n      link: 'https://twitter.com/airgap_it',\n      name: 'Twitter',\n      icon: <FaTwitter />,\n    },\n  ],\n  contact: [\n    { link: 'mailto:hi@airgap.it', name: 'Email', icon: <FaEnvelope /> },\n  ],\n}\n\nconst Footer: React.FC = () => {\n  const bg = useColorModeValue('gray.100', 'gray.100')\n  const color = useColorModeValue('black', 'gray.800')\n\n  return (\n    <Box as=\"footer\" bg={bg} color={color} py={10} px={8}>\n      <Container maxW=\"xl\" mx=\"auto\">\n        <Flex wrap=\"wrap\" justify=\"center\">\n          <Stack my={4} w={['100%', '50%', '33%']}>\n            <Text fontWeight=\"900\">Code</Text>\n            {data.code.map((item, index) => (\n              <Link\n                href={item.link}\n                key={index}\n                isExternal\n                _hover={{ textDecoration: 'none' }}\n              >\n                <Button variant=\"ghost\" leftIcon={item.icon} color=\"gray.500\">\n                  {item.name}\n                </Button>\n              </Link>\n            ))}\n          </Stack>\n          <Stack my={4} w={['100%', '50%', '33%']}>\n            <Text fontWeight=\"900\">Social</Text>\n            {data.social.map((item, index) => (\n              <Link\n                href={item.link}\n                key={index}\n                isExternal\n                _hover={{ textDecoration: 'none' }}\n              >\n                <Button variant=\"ghost\" leftIcon={item.icon} color=\"gray.500\">\n                  {item.name}\n                </Button>\n              </Link>\n            ))}\n          </Stack>\n          <Stack my={4} w={['100%', '50%', '33%']}>\n            <Text fontWeight=\"900\">Contact</Text>\n            {data.contact.map((item, index) => (\n              <Link\n                href={item.link}\n                key={index}\n                isExternal\n                _hover={{ textDecoration: 'none' }}\n              >\n                <Button variant=\"ghost\" leftIcon={item.icon} color=\"gray.500\">\n                  {item.name}\n                </Button>\n              </Link>\n            ))}\n          </Stack>\n        </Flex>\n        <Divider borderColor=\"gray.300\" my={4} />\n        <Container>\n          <HStack>\n            <Link href=\"https://airgap.it/\" isExternal>\n              <Image src={AirGap} width=\"150px\"></Image>\n            </Link>\n            <Link href=\"https://walletbeacon.io/\" isExternal>\n              <Image src={Beacon} width=\"150px\"></Image>\n            </Link>\n          </HStack>\n        </Container>\n        <Divider borderColor=\"gray.300\" my={4} />\n        <Container>\n          <Text fontSize=\"xs\">\n            <Text as=\"b\">Disclaimer</Text>: This is an experiment, consider the\n            funds you send to the contract as lost. No one forces you to\n            participate.\n          </Text>\n          <Text fontSize=\"xs\">\n            THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n            EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n            MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n            NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS\n            BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n            ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n            CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n            SOFTWARE.\n          </Text>\n        </Container>\n      </Container>\n    </Box>\n  )\n}\n\nexport default Footer\n","import React from 'react'\nimport './App.css'\nimport theme from '@chakra-ui/theme'\n\nimport Navigation from './components/Navigation/Navigation'\nimport Header from './components/Header/Header'\nimport HowTo from './components/HowTo/HowTo'\nimport Faq from './components/Faq/Faq'\nimport Footer from './components/Footer/Footer'\n\nimport { Stack, ChakraProvider, CSSReset } from '@chakra-ui/core'\n\n// Use at the root of your app\nclass App extends React.Component<{}> {\n  render() {\n    return (\n      <ChakraProvider theme={theme}>\n        <CSSReset />\n        <Navigation></Navigation>\n        <Stack minH=\"90vh\">\n          <Header></Header>\n          <HowTo></HowTo>\n          <Faq></Faq>\n        </Stack>\n        <Footer />\n      </ChakraProvider>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister()\n      })\n      .catch((error) => {\n        console.error(error.message)\n      })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}